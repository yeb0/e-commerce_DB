```mariadb

CREATE TABLE `CATEGORY` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`NAME` VARCHAR(10) NULL,
`REGISTED_DT` DATE NULL,
`UPDATED_DT` DATE NULL,
`DELETED_DT` DATE NULL
);

CREATE TABLE `SALE` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`IS_PROGRESS` BOOLEAN NULL,
`TYPE` VARCHAR(20) NULL,
`NAME` VARCHAR(20) NULL,
`START_DT` DATE NULL,
`END_DT` DATE NULL,
`PERCENT` INT NULL
);

CREATE TABLE `SELLER` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`BUSINESS_NAME` VARCHAR(20) NULL,
`REPRESENTATIVE` VARCHAR(20) NULL,
`CLASS` VARCHAR(20) NULL,
`BUSINESS_NUMBER` VARCHAR(30) NULL,
`EMAIL` VARCHAR(50) NULL,
`BUSINESS_ADDRESS` VARCHAR(255) NULL,
`BUSINESS_PHONE_NUMBER` VARCHAR(16) NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);

CREATE TABLE `USER` (
`ID` INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
`USER_ID` VARCHAR(20) UNIQUE NULL,
`PASSWORD` VARCHAR(255) NULL,
`NAME` VARCHAR(20) NULL,
`PHONE_NUMBER` VARCHAR(10) NULL,
`SEX` VARCHAR(2) NULL,
`IS_SIGN_OUT` BOOLEAN NULL
);

CREATE TABLE `PRODUCT` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`CATEGORY_ID` INT NOT NULL,
`SALE_ID` INT NOT NULL,
`SELLER_ID` INT NOT NULL,
`NAME` VARCHAR(255) NULL,
`CONTENT` TEXT NULL,
`PRICE` INT NULL,
`REGISTED_DT` DATE NULL,
`COUNT` INT NULL,
`IS_DELETED` BOOLEAN NULL,
`DELETED_DT` DATE NULL,
`UPDATED_DT` DATE NULL,
`IS_ENDS` BOOLEAN NULL,
FOREIGN KEY (`CATEGORY_ID`) REFERENCES `CATEGORY`(`ID`),
FOREIGN KEY (`SALE_ID`) REFERENCES `SALE`(`ID`),
FOREIGN KEY (`SELLER_ID`) REFERENCES `SELLER`(`ID`)
);

CREATE TABLE `ORDER` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`CARD_ID` INT NOT NULL,
`TOTAL_PRICE` INT NULL,
`ORDER_DT` DATE NULL,
`REGISTED_DT` DATE NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`),
FOREIGN KEY (`CARD_ID`) REFERENCES `CARD`(`ID`)
);

CREATE TABLE `SEARCH` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`CONTENTS` VARCHAR(255) NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);

CREATE TABLE `ORDER_PRODUCT` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`PRODUCT_ID` INT NOT NULL,
`ORDER_ID` INT NOT NULL,
`COUNT` INT NULL,
`PRICE` INT NULL,
`REGISTED_DT` DATE NULL,
`UPDATED_DT` DATE NULL,
FOREIGN KEY (`PRODUCT_ID`) REFERENCES `PRODUCT`(`ID`),
FOREIGN KEY (`ORDER_ID`) REFERENCES `ORDER`(`ID`)
);

CREATE TABLE `USER_ADDRESS` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`NAME` VARCHAR(20) NULL,
`ADDRESS_CODE` VARCHAR(10) NULL,
`ADDRESS` VARCHAR(255) NULL,
`PHONE_NUMBER` VARCHAR(10) NULL,
`IS_BASE_ADDRESS` BOOLEAN NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);

CREATE TABLE `CART` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`PRODUCT_ID` INT NOT NULL,
`COUNT` INT NULL,
`REGISTED_DT` DATE NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`),
FOREIGN KEY (`PRODUCT_ID`) REFERENCES `PRODUCT`(`ID`)
);

CREATE TABLE `PHOTO` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`PRODUCT_ID` INT NOT NULL,
`ROUTE` VARCHAR(255) NULL,
`NAME` VARCHAR(255) NULL,
`TYPE` VARCHAR(10) NULL,
FOREIGN KEY (`PRODUCT_ID`) REFERENCES `PRODUCT`(`ID`)
);

CREATE TABLE `REVIEW` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`PRODUCT_ID` INT NOT NULL,
`CONTENTS` TEXT NULL,
`REGISTED_DT` DATE NULL,
`UPDATED_DT` DATE NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`),
FOREIGN KEY (`PRODUCT_ID`) REFERENCES `PRODUCT`(`ID`)
);

CREATE TABLE `REVIEW_HEART` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`REVIEW_ID` INT NOT NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`),
FOREIGN KEY (`REVIEW_ID`) REFERENCES `REVIEW`(`ID`)
);

CREATE TABLE `WISH` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`PRODUCT_ID` INT NOT NULL,
`USER_ID` INT NOT NULL,
FOREIGN KEY (`PRODUCT_ID`) REFERENCES `PRODUCT`(`ID`),
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);

CREATE TABLE `CARD` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`BANK_NAME` VARCHAR(4) NULL,
`CARD_NUMBER` VARCHAR(16) NULL,
`MONTH` VARCHAR(2) NULL,
`YEAR` VARCHAR(2) NULL,
`PASSWORD` VARCHAR(10) NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);

CREATE TABLE `COUPON` (
`ID` INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
`USER_ID` INT NOT NULL,
`USED_DT` DATE NULL,
`REGISTED_DT` DATE NULL,
`UPDATED_DT` DATE NULL,
FOREIGN KEY (`USER_ID`) REFERENCES `USER`(`ID`)
);
```


작성 중에 마주쳤던 이슈들 

```
(errno: 150 "Foreign key constraint is incorrectly formed")
```

1. 데이터의 타입 일치 ?
2. PK, UK ?
3. NULL OR NOT NULL 같은지 ?
4. UTF-8 같은지 ?

확인을 해야 한다.
내 경우에는 위의 경우는 포함되지 않았고, 단지 **테이블의 생성 순서에 따라 테이블이 생성되지 않았던 그 이유**였다.

따라서 참조 받고 있는 테이블을 나중으로 미루고, 참조 받지 않는 테이블들을 위주로 먼저 생성 후에 생성했더니 위의 문제를 해결할 수 있었다.

